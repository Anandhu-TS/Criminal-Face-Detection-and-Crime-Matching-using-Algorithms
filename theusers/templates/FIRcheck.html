{%extends 'station_index.html'%}
{% load static %}
{%block content%} 


<br> <br> <br> <br> <br><br> 

<div class="contact-form " >
       <div class="row">
            <div class="col-xl-8 col-lg-8 offset-lg-2 offset-xl-2">
                <div class="form-wrapper">
                <!--Section Tittle  -->
                    <div class="row ">
                        <div class="col-xl-12">
                            <div class="section-tittle section-tittle-f text-center mb-70">
                                <h2>Crime Matching</h2>
                            </div>
                        </div>
                    </div>
                    <!--End Section Tittle  -->
                    <!-- FIR Search Form -->
                    <form id="contact-form" method="post">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <div class="submit-info">
                        <button class="submit-btn2" type="submit">Search</button>
                        </div>
                        
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Contact form End -->

        
<div id="middle"></div><br> <br> <br> <br> <br><br> 

        <!-- Display Matching FIRs -->
        {% if matches %}
        <div class="row ">
            <div class="col-xl-12">
                <div class="section-tittle">
                    <h2>Matching FIR's</h2>
                </div>
            </div>
        </div>
            <div class="row py-5" style="padding-top: 0rem !important;">
                <div class="col-lg-10 mx-auto" style="flex: 1 0 83.333333%; max-width: 100%" >
                  <div class="card rounded shadow border-0">
                    <div class="card-body p-5 bg-white rounded">
                      <div class="table-responsive">
                        <table id="example" style="width:100%" class="table table-striped table-bordered">
                          
                <thead>
                    <tr>
                        <th>FIR No.</th>
                        <th>Court</th>
                        <th>District</th>
                        <th>PS Name</th>
                        <th>Date of Case Given</th>
                        <th>Act</th>
                        <th>Sections</th>
                        <th>Date of Crime</th>
                        <th>Location</th>
                        <th>Petitioner Name</th>
                        <th>Details of Known Suspected</th>
                        <th>Case Description</th>
                    </tr>
                </thead>
                <tbody>
                    {% for fir in matches %}
                        <tr>
                            <td>{{ fir.pk }}</td>
                            <td>{{ fir.court }}</td>
                            <td>{{ fir.district }}</td>
                            <td>{{ fir.PSname }}</td>
                            <td>{{ fir.date_of_case_given }}</td>
                            <td>{{ fir.Act }}</td>
                            <td>{{ fir.Sections }}</td>
                            <td>{{ fir.date_of_crime }}</td>
                            <td>{{ fir.location }}</td>
                            <td>{{ fir.Petitioner_name }}</td>
                            <td>{{ fir.Details_of_known_Suspected }}</td>
                            <td>{{ fir.Case_description }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="12">No FIRs match the given description.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    function slowScroll() {
        setTimeout(function() {
            const middle = document.getElementById('middle');
            middle.scrollIntoView({ behavior: 'smooth' });

            // Add a slow scroll duration (this works only in modern browsers)
            middle.style.scrollBehavior = 'smooth';
            middle.style.transition = 'scroll-behavior 10s ease';
        }, 1000); // 2-second delay before scrolling
    }

    window.onload = function() {
        slowScroll();
    };
</script>
        {% endif %}
    
    
{%endblock%}
